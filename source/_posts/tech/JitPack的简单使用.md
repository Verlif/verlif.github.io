---
title: JitPack的简单使用
tags:
  - JitPack
  - 教程
published: true
cover: /images/JI96IxegB.png
banner: /images/JI96IxegB.png
isTop: false
abbrlink: 28924
date: 2024-01-20 16:24:16
category:
	- 技术
---
写代码时总是会遇到功能或模块的重复使用，最基本的做法就是复制粘贴了。但是复制粘贴又有很明显的缺点，例如：

- 数据源不好找，一般复制都是从另一个项目将代码复制过来，这就表示你需要先知道代码在哪个项目文件中的哪个文件中。
- 文件关联多，复制的代码可能引用了当前项目中没有依赖或文件，这就需要将依赖也引入当前的项目中。
- 不便于升级，当这些功能有了新的逻辑方法，无法很方便地对使用过的项目进行同步升级。
- 耦合度高，因为依赖关联的原因，导致如果要删除复制过来的代码，可能就需要筛查关联依赖，将引入一并去除。

而使用依赖的方式引入就方便了非常多，当然，这也取决于使用者的开发能力。为了方便我们重复使用代码或是功能，我们就需要进行模块化处理，将这些代码整理成一个依赖，使用依赖管理的方式进行添加。

所以这里介绍一个三方依赖仓库[**JitPack**](https://jitpack.io/)，并简单介绍如何将自己的项目变成其他人可用的依赖。

## 使用中央仓库

你以为我要写怎样将项目提交到**Maven中央仓库**吗？我都还没有弄完，这玩意儿的申请流程有一丢丢麻烦，以后再说吧。

## 使用JitPack

[**JitPack**](https://jitpack.io/)也是一个公开仓库，提供了**Maven**、**Gradle**、**Sbt**和**Leiningen**仓库源。正如官网所说的：

> Easy to use package repository for Git

你只需要提供一个公开仓库地址就可以快速构建。

### 构建仓库

1. 提供公开仓库地址，无论是**Github**和**Gitee**都是可行的。

    ![填入仓库地址](/images/1705740117026.png)

2. 点击`LookUp`进行查询。
3. 从`Release`、`Builds`、`Beaches`和`Commints`中选择需要构建的版本。推荐使用`Release`进行构建，便于填写版本号。

    ![查询结果](/images/1705740239032.png)

    版本号使用的是`Release`的`Tag`，也就是你需要先进行项目发版。具体的发版方法很简单，这里不做赘述，你只需要在**Github**中选择`Release`，并选择`Draft a new release`就可以进行发版。

    ![查询列表](/images/1705740471186.png)

    在JitPack的构建列表中`Release`中的项就是发版`Tag`。

4. 选择想要构建的项，点击右侧的`Get it`按钮并等待构建完成。这里需要注意，构建的配置就是你的项目`pom.xml`文件，`pom.xml`文件配置有误是会构建失败的，例如Java版本指定错误什么的。

    按钮左侧出现**小绿标**即构建成功，构建过程也可以点击按钮左侧图标查看。

    ![构建按钮](/images/1705740788369.png)

    构建过程与结果，构建失败时需要在这里查看错误信息并修正错误重新构建。

    ![构建结果](/images/1705740846218.png)

### 添加依赖

构建完成即可进行依赖添加。
   
下方的`How to`已经说明了，依赖添加需要进行两个步骤。

1. 添加**JitPack**仓库源（已存在则可以不进行添加）。
2. 添加依赖代码，这里的`version`就是选择的构建标签。

![添加依赖](/images/1705741033689.png)

### 为什么选择JitPack

因为方便，**中央仓库**方便是因为在**Maven**的**默认配置**下已经添加了中央仓库的地址，除此之外在使用上**中央仓库**与其他的**Maven仓库**并无多大区别。

## 补充

无论是在**中央仓库**提交还是**JitPack**或是**Github仓库**提交，都需要现在本地构建进行测试，避免构建无用或是错误的依赖版本，养成良好的提交习惯。