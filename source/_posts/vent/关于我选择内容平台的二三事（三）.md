---
title: 关于我选择内容平台的二三事（三）
tags:
  - 二三事
abbrlink: 2780
date: 2024-04-26 19:19:59
category:
	- 吐槽
---

<!-- more -->

没想到这个系列还能更新。

首先，[Gridea](https://open.gridea.dev/))很不错，所以我也用了两三年。不过因为一些拓展性的问题，我还是换成了[Hexo](https://hexo.io/zh-cn/)。

就我使用的情况来说，**Gridea**非常地干净，没有多余的信息干扰，非常适合只写内容的创作者。

但是我有时会写一些教程或是Wiki，在这方便**Hexo**会支持得更好。

## 数据迁移

换平台就涉及到数据迁移的问题，不过这次的迁移比我想得还要简单。

### 内容迁移

因为**Gridea**会在本地生成`post`目录，这里面就是所有的文章了。而同级的`post-image`就是文章里用到的所有图片。

**Hexo**里面同样的，在`source`下的`_post`里就是文章了，那么就只需要把**Gridea**里的`post`复制到**Hexo**下的`post_`中就好了。

但是图片就有些麻烦了，因为**Gridea**在编译后会将本地图片地址替换成网络地址，所以只能把这些图片重新换成相对路径来管理了。

### 图片迁移

已知，**Gridea**对图片地址的处理是转换成静态文件地址，且图片都集中在一个文件夹`post-image`中，类似于`https://verlif.top/post-images/12345.png`，
而我们需要的是相对路径，类似于`../post-images/12345.png`，那么聪明的小朋友就已经想到了，全局替换。

为了避免误伤，我们将`https://verlif.top/post-images`替换从`../post-images`。如果用`https://verlif.top`替换`..`，那么一大票的网址也会遇害。

### 配置迁移

实际上这里的配置指的是每个文章上的front信息，类似于以下格式：

```yaml
---
title: 关于我选择内容平台的二三事（三）
tags:
  - 二三事
abbrlink: 2780
date: 2024-04-26 19:19:59
---
```

对于**Gridea**来说，多了两个参数`isTop`（是否置顶）和`hideInList`（是否在列表中隐藏），这两个参数可以删除。另外就是`future`对应了**Hexo**的`cover`（头图），这里需要注意的是这里的图片地址是相对路径，需要改成当前`post-images`地址。

### 完成

基本的迁移工作就OK了，剩下的就是在**Hexo**中调整样式和主题了。